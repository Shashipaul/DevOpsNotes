<!DOCTYPE html>
<html>
<head>
<style>
table, th, td {
  border: 1px solid white;
  border-collapse: collapse;
}
th, td {
  background-color: #96D4D4;
}
div.a {
  text-align: justify;
  text-justify: inter-word;
}
div.b {
  background-color: lightgrey;
  width: 300px;
  border: 2px solid green;
  padding: 10px;
  margin: 20px;
}
</style>
</head>
<body>

<h2>docker</h2>

<p>docker Training</p>

<table style="width:100%">
  <tr>
    <th>S No</th>
    <th>Title</th> 
    <th>Description</th>
	<th>Steps</th>
  </tr>
  <tr>
    <td>1</td>
    <td>docker Architecture</td>
    <td><br>
	<ul>
			<li>OverlayFS:<br>
			    &ensp;&ensp;&ensp;* Docker inspect -(Container Name)-<br>
			</li>
			</ul>
		
	</td>
	<td style="width:20%">
	<p><strong><b>OverlayFS_1 :</b></strong></p>
	<img src="images\OverlayFS_1.PNG" alt="cluster" width="500" height="250">
	<p><strong><b>OverlayFS_2 :</b></strong></p>
	<img src="images\OverlayFS_2.PNG" alt="cluster" width="500" height="250">
  </tr>  
  <tr>
    <td>2</td>
    <td>Installation of docker</td>
	<td><ul>			
			<li>Installation Steps:<br>
				&ensp;&ensp;&ensp;* sudo yum install -y yum-utils<br>
			    &ensp;&ensp;&ensp;* sudo yum-config-manager \ --add-repo \ https://download.docker.com/linux/centos/docker-ce.repo<br>
				&ensp;&ensp;&ensp;* ls -l /etc/yum.repo.d/docker-ca.repo<br>
				&ensp;&ensp;&ensp;* yum install docker-ce -y<br>
				&ensp;&ensp;&ensp;* systemctl start docker<br>
				&ensp;&ensp;&ensp;* systemctl enable docker<br>
				&ensp;&ensp;&ensp;* docker info | grep -i server<br>
				&ensp;&ensp;&ensp;* docker version<br>	
				&ensp;&ensp;&ensp;* docker info<br>					
				</li>
			</ul>	
	</td>
	<td>		
  </tr>  
  <tr>
    <td style="width:5%">3</td>
    <td style="width:10%">Learning the Basics of docker</td>
    <td style="width:45%"><ul>
			    <li>docker Images and Containers :<br>
			    &ensp;&ensp;&ensp;* docker Images >>>> <em style="color:blue;">List Images avlible on servers</em><br>
				&ensp;&ensp;&ensp;* docker ps <br>
				&ensp;&ensp;&ensp;* docker search mysql >>>> <em style="color:blue;">Search for the Images</em><br>
				&ensp;&ensp;&ensp;* docker pull mysql:5.6 >>>> <em style="color:blue;">Pull docker images</em><br>
				&ensp;&ensp;&ensp;* ls -ld /var/lib/docker/ >>>>><em style="color:blue;">Location of the image pulled</em><br>
				&ensp;&ensp;&ensp;* docker history -(Image ID)- >>>>>> <em style="color:blue;">List information about the image</em>>>>>><em style="color:Blue;">Reference</em> : docker_1<br>
				&ensp;&ensp;&ensp;* docker version<br>				
				</li>
			</ul>
			<ul>
			    <li>How to create Containers :<br>
			    &ensp;&ensp;&ensp;* docker Images >>>> <em style="color:blue;">List Images avlible on servers</em><br>	
				&ensp;&ensp;&ensp;* docker run -it --name=test centos:7 >>> <em style="color:blue;">Create docker Containers from image and login into it (i: Image t: term)</em><br>
				&ensp;&ensp;&ensp;* docker ps >>>> <em style="color:blue;">Check the status of docker</em><br>
				&ensp;&ensp;&ensp;* docker ps -a >>>> <em style="color:blue;">Check the status of docker</em><br>
				&ensp;&ensp;&ensp;* docker top -(Container Name)->>>> <em style="color:blue;">Show us the container processes</em><br>		
				&ensp;&ensp;&ensp;* docker start -(Container Name)->>>> <em style="color:blue;">Start docker from the container</em><br>
				&ensp;&ensp;&ensp;* docker stats -(Container Name)->>>> <em style="color:blue;">Stats of running docker</em><br>	
                &ensp;&ensp;&ensp;* docker attach -(Container Name)->>>> <em style="color:blue;">Login inside container where bin/bash shell avalible</em><br>	
				&ensp;&ensp;&ensp;* Press (Ctl + p + q) >>>> <em style="color:blue;">To logout from the container</em><br>	
				&ensp;&ensp;&ensp;* docker stop -(Container Name)->>>> <em style="color:blue;">Stop docker from the container</em><br>	
			    &ensp;&ensp;&ensp;* docker system df >>>> <em style="color:blue;">Storage resource utlization by docker</em><em style="color:Blue;"> Reference</em> : docker_3<br>
				&ensp;&ensp;&ensp;* docker inspect -(Container Name)->>>> <em style="color:blue;">Inspect the container details</em></em><em style="color:Blue;"> Reference</em> : docker_4<br>				
				</li></ul>
				<ul><li>How to setup service container (ngenx):			
		      <p>Create the location of new registry>>>> <b>vim /etc/sysconfig/docker</b></em>>>>>><em style="color:Blue;">Reference</em> : docker_2</p>
			  <p>docker inspect network bridge | grep -i subnet >>>> <b>Check for the status of brige subnet</b><br>
			  &ensp;&ensp;&ensp;* docker run -d --name=webserver -(Container ID)->>>> <em style="color:blue;">Run the service container ID</em><br>
			  &ensp;&ensp;&ensp;* docker exec -it webserver /bin/bash>>> <em style="color:blue;">Login to container</em><br>
			  &ensp;&ensp;&ensp;* docker rm -(Container name)- >>> <em style="color:blue;">Delete container</em><br>
			  &ensp;&ensp;&ensp;* docker logs -(Container name)- >>> <em style="color:blue;">Check for the docker container logs</em><br>
			  &ensp;&ensp;&ensp;* docker run -d --name=db -e MYSQL_ROOT_PASSWORD=root --cpus=0.5 mysql:5.6 >>> <em style="color:blue;">Create docker with cpu</em><br>
			  &ensp;&ensp;&ensp;* docker run -it --name=demo --restart=always centos:7 >>> <em style="color:blue;">-- restart means whenever reboot happens it will automatically start docker container</em><br>
			  &ensp;&ensp;&ensp;* docker start $(docker ps -q -a) >>> <em style="color:blue;">Starting docker container using single command</em><br>
			  </li></ul>
			  <ul>
			    <li>Example :<br>
				  &ensp;&ensp;&ensp;* docker run -d --name=db -e MYSQL_ROOT_PASSWORD=root mysql:5.6<br> 
				  &ensp;&ensp;&ensp;* docker inspect db | grep -i ipaddress >>>> Check IP address of docker container<br>				  
				 </li></ul>
			  
	</td>
	<td style="width:20%">
	<p><strong><b>docker_1:</b></strong></p>
	<img src="images\docker_1.PNG" alt="cluster" width="500" height="250">
	<p><strong><b>docker_2:</b></strong></p>
	<img src="images\docker_2.PNG" alt="cluster" width="500" height="250">
	<p><strong><b>docker_3:</b></strong></p>
	<img src="images\docker_3.PNG" alt="cluster" width="500" height="250">
	<p><strong><b>docker_4:</b></strong></p>
	<img src="images\docker_4.PNG" alt="cluster" width="500" height="150">
	<p><strong><b>docker_5:</b></strong></p>
	<img src="images\docker_5.PNG" alt="cluster" width="500" height="150">
	</td>		
  </tr> 
    <tr>
    <td style="width:5%">4</td>
    <td style="width:10%">How to Expose Container for world Network</td>
    <td style="width:45%"><p>Need to create port forwarding for container with Docker Host Port :</p>
	<ul>
			<li>Instructions (Port Mapping):<br>
			  &ensp;&ensp;&ensp;* docker run -d -p 8080:80 --name=webserver1 ngenx:latest >>> -p use to forward port<br>
			  &ensp;&ensp;&ensp;* netstat -tnIp | grep -w 8080<br>
			  &ensp;&ensp;&ensp;* docker run -d -p 172.31.12.137:8080:80 --name=webserver1 ngenx:latest >>><div class=a>&ensp;&ensp;&ensp;&ensp; bind with IP address and -p use to forward port</em>>>>><em style="color:Blue;">Reference</em> : docker_5</p></div>
			  &ensp;&ensp;&ensp;* docker run -d -p 0.0.0.0:8080:80 --name=webserver1 ngenx:latest >>><div class=a>&ensp;&ensp;&ensp;&ensp; bind with default IP address and -p use to forward port (manual)</em>>>>><em style="color:Blue;">Reference</em> : docker_5</p></div>
			  &ensp;&ensp;&ensp;* docker run -d -p 8087:8080 -p 8088:80 -n=webserver6 ngenx:latest<br>
			  &ensp;&ensp;&ensp;* docker stop $(docker ps -q -a) >>> <em style="color:blue;"><b>stop all running docker</b></em><br>
			  &ensp;&ensp;&ensp;* docker rm $(docker ps -q -a) >>> <em style="color:blue;"><b>remove all running docker</b></em><br>
			  &ensp;&ensp;&ensp;* docker run -d -P --name=webserver6 ngenx:latest >>> <em style="color:blue;"><b> -P : Bind any avalible port</b></em><br>
			</li>
			</ul>
		
	</td>
	<td style="width:20%"></td>
  </tr>  
   <tr>
    <td style="width:5%">5</td>
    <td style="width:10%">Build Docker Image</td>
    <td style="width:45%"><p>Create custom Images with the base images :</p>
	<ul>
			<li>Instructions (Docker Image):<br>
			  &ensp;&ensp;&ensp;* docker images<br>
			  &ensp;&ensp;&ensp;* find /var/lib/docker/ -name run.sh >>> <em style="color:blue;"><b>check the writing layer of the docker</b></em><br>
			  &ensp;&ensp;&ensp;* docker commit test centos.v1 >>> <em style="color:blue;"><b>commit changes in existing image</b></em><br>	
			  &ensp;&ensp;&ensp;* docker run -it --name=test centos.v1 >>> <em style="color:blue;"><b>create container from base image</b></em>>>><em style="color:Red;">Reference : <b>docker_6</b></em><br>
			  &ensp;&ensp;&ensp;* docker rmi -(image name)- >>> <em style="color:blue;"><b>Delete image</b></em><br>
			  &ensp;&ensp;&ensp;* docker save centos:apache > apache.tar >>> <em style="color:blue;"><b>backup the base image with change layer</b></em><br>
			  &ensp;&ensp;&ensp;* docker rmi -f $(docker iamges -q)<br>
			  &ensp;&ensp;&ensp;* docker load -i apache.tar >>> <em style="color:blue;"><b>create container form packed tar file</b></em><br>
			  &ensp;&ensp;&ensp;* ls /var/lib/docker2/overlay2/ <em style="color:blue;"><b>list the image data. To  check this information need overlay2 path for the docker
			  </b></em><br>
			</li>
			</ul>
		
	</td>
	<td style="width:20%">
	<p><strong><b>docker_6:</b></strong></p>
	<img src="images\docker_6.PNG" alt="cluster" width="500" height="250"></td>
  </tr>  
  	<td style="width:20%"></td>
  </tr>  
   <tr>
    <td style="width:5%">6</td>
    <td style="width:10%">Docker Volume</td>
    <td style="width:45%"><p>Create Volume to write data</p>
	<ul>
			<li>Instructions (Docker Image):<br>
			  &ensp;&ensp;&ensp;* docker images<br>

			  </b></em><br>
			</li>
			</ul>
		
	</td>
	<td style="width:20%">
	<p><strong><b>docker_6:</b></strong></p>
	<img src="images\docker_6.PNG" alt="cluster" width="500" height="250"></td>
  </tr>
</table>

</body>
</html>
